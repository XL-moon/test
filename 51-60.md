## 51-60题
### 五十一、找出重复的数
#### 题目及思路
```java<br>
题目：
在一个长度为n的数组里的所有数字都在0到n-1的范围内，找出数组中任意一个重复的数字
思路：
若下标大于length，则减去length，最后再加上length，若下标的数组值大于length，则返回true。或使用辅助空间（HashSet）
```
#### 代码
```java<br>
代码实现：

public boolean duplicate(int numbers[],int length,int [] duplication) {
    if (numbers == null || length == 0 || length == 1)
        return false;
    for (int i = 0; i < length; i++) {
        int index = numbers[i];
        if (index >= length)
            index -= length;
        if (numbers[index] >= length) {
            duplication[0] = index;
            return true;
        }
        numbers[index] += length;
    }
    return false;
}
```

### 五十二、构建乘积数组
#### 题目及思路
```java<br>
题目：
给定一个数组A[0,1,…,n-1],请构建一个数组B[0,1,…,n-1],其中B中的元素
B[i]=A[0]A[1]…A[i-1]*A[i+1]…*A[n-1]。其中A[i] = 1。不能使用除法。
思路：
使用矩阵法求解，将矩阵分为上三角矩阵和下三角矩阵，分别求乘积
```
#### 代码
```java<br>
代码实现：

public int[] multiply(int[] A) {
    int length = A.length;
    int[] B = new int[length];
    if(length != 0 ){
        B[0] = 1;
        //计算下三角连乘
        for(int i = 1; i < length; i++){
            B[i] = B[i-1] * A[i-1];
        }
        int temp = 1;
        //计算上三角连乘
        for(int j = length-2; j >= 0; j--){
            temp *= A[j+1];
            B[j] *= temp;
        }
    }
    return B;
}
```

### 五十三、正则表达式匹配
#### 题目及思路
```java<br>
题目：
请实现一个函数用来匹配包括’.’和’‘的正则表达式。模式中的字符’.’表示任意一个字符，
而’‘表示它前面的字符可以出现任意次（包含0次）
思路：
当字符串只有一个字符时，进行判断，否则就有两种递归情况，（1）当模式中的第二个字符不是“”时：
如果字符串第一个字符和模式中的第一个字符相匹配或是点那么字符串和模式都后移一个字符，然后匹配剩余的；
如果 字符串第一个字符和模式中的第一个字符相不匹配，直接返回false。（2）当模式中的第二个字符是“”时：
如果字符串第一个字符跟模式第一个字符不匹配，则模式后移2个字符，继续匹配；
如果字符串第一个字符跟模式第一个字符匹配或是点，可以有3种匹配方式：
1>模式后移2字符，相当于x*被忽略；
2>字符串后移1字符，模式后移2字符；3>字符串后移1字符，模式不变，即继续匹配字符下一位，因为 * 可以匹配多位
```
#### 代码
```java<br>
代码实现：

public boolean match(char[] str, char[] pattern) {
    if (str == null || pattern == null)
        return false;
    // 若字符串的长度为1
    if (str.length == 1) {
        if (pattern.length == 1){
            if (str[0] == pattern[0] || pattern[0] == '.')
                return true;
            return false;
        }
    }
    int sindex = 0;
    int pindex = 0;
    return matchIndex(str,sindex,pattern,pindex);
}

public boolean matchIndex(char[] str,int sindex, char[] pattern, int pindex) {
    // str和pattern同时到达末尾，则匹配成功
    if (sindex == str.length && pindex == pattern.length)
        return true;
    // 若pattern先到尾，而str没有到达末尾，则匹配失败
    if (sindex != str.length && pindex == pattern.length)
        return false;
    // 若pattern第二个字符是*
    if (pindex + 1 < pattern.length && pattern[pindex + 1] == '*') {
        if (sindex != str.length && pattern[pindex] == str[sindex] ||
                sindex != str.length && pattern[pindex] == '.') {
            return matchIndex(str,sindex+1,pattern,pindex+2)
                    || matchIndex(str,sindex,pattern,pindex+2)
                    || matchIndex(str,sindex+1,pattern,pindex);
        } else {
            return matchIndex(str,sindex,pattern,pindex+2);
        }
    }
    // 若pattern第二个字符不是*
    if (sindex != str.length && pattern[pindex] == str[sindex] ||
            sindex != str.length && pattern[pindex] == '.')
        return matchIndex(str,sindex+1,pattern,pindex+1);
    return false;
}
```

### 五十四、表示数值的字符串
#### 题目及思路
```java<br>
题目：
请实现一个函数用来判断字符串是否表示数值（包括整数和小数）
思路：
逐个字符进行判断，e或E和小数点最多出现一次，而e或E的前一个必须是数字，且不能是第一个或最后一个字符，
符号的前一个字符不能是e或E。也可用正则表达式判断。
```
#### 代码
```java<br>
代码实现：

public boolean isNumeric(char[] str) {
    if (str == null)
        return false;
    int index = 0;
    int ecount = 0;
    int point = 0;
    // 如果第一个字符是符号就跳过
    if (str[0] == '-' || str[0] == '+')
        index++;

    for (int i = index; i < str.length; i++) {
        if (str[i] == '-' || str[i] == '+') {
            if (str[i-1] != 'e' && str[i-1] != 'E')
                return false;
            continue;
        }

        if (str[i] == 'e' || str[i] == 'E') {
            ecount++;
            if (ecount > 1)
                return false;
            if (i == 0 || str[i-1] < 48 || str[i-1] > 57 || i == str.length-1)
                return false;
            point++;
            continue;
        }

        if (str[i] == '.') {
            point++;
            if (point > 1)
                return false;
            continue;
        }
        // 出现非数字且不是e/E则返回false（小数点和符号用continue跳过了）
        if ((str[i] < 48 || str[i] > 57) && (str[i] != 'e') && (str[i] != 'E'))
            return false;
    }
    return true;
}
```
